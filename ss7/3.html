<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let players = [];

        const positionMap = {
            1: "Thủ môn",
            2: "Hậu vệ",
            3: "Tiền vệ",
            4: "Tiền đạo"
        };

        let n = parseInt(prompt("Có bao nhiêu cầu thủ cần nhập vào đội bóng?"));

        for (let i = 0; i < n; i++) {
            console.log(`Nhập cầu thủ ${i + 1}:`);

            let id;
            let isDuplicate;

            do {
                id = prompt("Nhập mã cầu thủ:");
                isDuplicate = false;

                for (let j = 0; j < players.length; j++) {
                    let currentId = players[j].split("-")[0];
                    if (currentId === id) {
                        isDuplicate = true;
                        alert("Mã cầu thủ đã tồn tại, vui lòng nhập lại!");
                        break;
                    }
                }
            } while (isDuplicate);

            let name;
            do {
                name = prompt("Nhập tên cầu thủ:");
            } while (name.trim() === "");

            let pos;
            do {
                pos = parseInt(
                    prompt("Vị trí (1: Thủ môn 2: Hậu vệ 3: Tiền vệ 4: Tiền đạo):")
                );
            } while (pos < 1 || pos > 4);

            let playerString = `${id}-${name}-${positionMap[pos]}`;
            players.push(playerString);
        }

        function printTeamRoster() {
            console.log(`Danh sách đội bóng (${players.length} cầu thủ):`);
            for (let i = 0; i < players.length; i++) {
                let parts = players[i].split("-");
                console.log(
                    `${i + 1}. Mã: ${parts[0]} | Tên: ${parts[1]} | Vị trí: ${parts[2]}`
                );
            }
        }

        function pushPlayer(name, position) {
            let id = `P${(players.length + 1).toString().padStart(3, "0")}`;
            let playerString = `${id}-${name}-${position}`;
            players.push(playerString);
        }

        printTeamRoster();

        pushPlayer("Nguyễn Văn F", "Tiền vệ");
        printTeamRoster();

    </script>
</body>

</html>