<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
            let booksId = [];
            let booksName = [];
            let booksCategory = [];
            let inventoryQuantity = [];

            let soSach;
            do {
                soSach = parseInt(prompt("Có bao nhiêu loại sách cần nhập thông tin hôm nay?"));
            } while (isNaN(soSach) || soSach <= 0);

            for (let i = 0; i < soSach; i++) {

                let maSach;
                while (true) {
                    maSach = prompt("Nhập mã sách thứ " + (i + 1) + ":");
                    if (maSach === "") continue;

                    let trung = false;
                    for (let j = 0; j < booksId.length; j++) {
                        if (booksId[j] === maSach) {
                            trung = true;
                            break;
                        }
                    }

                    if (!trung) break;
                    alert("Mã sách đã tồn tại, vui lòng nhập lại!");
                }

                let tenSach;
                do {
                    tenSach = prompt("Nhập tên sách thứ " + (i + 1) + ":");
                } while (tenSach === "");

                let theLoai;
                do {
                    theLoai = prompt(
                        "Nhập các thể loại của sách thứ " + (i + 1) +
                        " (các thể loại cách nhau bởi dấu phẩy):"
                    );
                } while (theLoai === "");

                let soLuong;
                do {
                    soLuong = parseInt(
                        prompt("Nhập số lượng tồn kho của sách thứ " + (i + 1) + ":")
                    );
                } while (isNaN(soLuong) || soLuong < 0);

                booksId.push(maSach);
                booksName.push(tenSach);
                booksCategory.push(theLoai);
                inventoryQuantity.push(soLuong);
            }


            let demLapTrinh = 0;

            for (let i = 0; i < booksCategory.length; i++) {
                if (booksCategory[i].toLowerCase().includes("lập trình")) {
                    demLapTrinh++;
                }
            }

            console.log("Tổng số sách thuộc thể loại 'Lập trình': " + demLapTrinh);

            console.log("Danh sách mã sách thuộc cả hai thể loại 'JavaScript' và 'Web':");

            for (let i = 0; i < booksCategory.length; i++) {
                let tl = booksCategory[i].toLowerCase();
                if (tl.includes("javascript") && tl.includes("web")) {
                    console.log(booksId[i]);
                }
            }

            let viTriMin = 0;

            for (let i = 1; i < inventoryQuantity.length; i++) {
                if (inventoryQuantity[i] < inventoryQuantity[viTriMin]) {
                    viTriMin = i;
                }
            }

            console.log("Loại sách có số lượng tồn kho thấp nhất:");
            console.log(
                "Mã sách: " + booksId[viTriMin] +
                ", Tên sách: " + booksName[viTriMin] +
                ", Tồn kho: " + inventoryQuantity[viTriMin]
            );

    </script>
</body>
</html>